{% extends "partials/base.twig" %}
{% set title = "Dashboard" %}
{% set page_script = "/assets/js/dashboard.js" %}

{% block content %}
<div class="row">
    <div class="col s12 m5">
        <h3>Count</h3>
        <table class="responsive-table">
            <tbody>
                <tr>
                    <td>Water</td>
                    <td>
                        <strong>{{count.water}}</strong>
                    </td>
                </tr>
                <tr>
                    <td>Bier</td>
                    <td>
                        <strong>{{count.bier}}</strong>
                    </td>
                </tr>
                <tr>
                    <td>Shot</td>
                    <td>
                        <strong>{{count.shot}}</strong>
                    </td>
                </tr>
                <tr>
                    <td>Barf</td>
                    <td>
                        <strong>{{count.barf}}</strong>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="col m2"></div>

    <div class="col s12 m5">
        <h3>Last</h3>
        <table class="responsive-table">
            <tbody>
                <tr>
                    <td>Water</td>
                    <td>
                        <strong>{{ last.water ?: 'Not found' }}</strong>
                    </td>
                </tr>
                <tr>
                    <td>Bier</td>
                    <td>
                        <strong>{{ last.bier ?: 'Not found' }}</strong>
                    </td>
                </tr>
                <tr>
                    <td>Shot</td>
                    <td>
                        <strong>{{ last.shot ?: 'Not found' }}</strong>
                    </td>
                </tr>
                <tr>
                    <td>Barf</td>
                    <td>
                        <strong>{{ last.barf ?: 'Not found' }}</strong>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<hr />

<canvas id="drinksGraph" width="400" ></canvas>

{#
<div class="row">
    <ul class="collection with-header">
        <li class="collection-header">
            <h2>Drinks</h2>
        </li>
        {% if not drinkDays %}
            <li class="collection-item">
                <div>
                    No drinks found!
                </div>
            </li>
        {% endif %}

        {% for drinkDay in drinkDays %}
            {% for drink in drinkDay %}
                <li class="collection-item">
                    <p>Type: {{ drink.type }}, Created at: {{ drink.created_at }}</p>
                </li>
            {% endfor %}
        {% endfor %}
    </ul>
</div> #}

<script>window._drinks = {{ drinks | json_encode() | raw }}</script>

{% endblock %}
